# Исправления переменных окружения

## Проблема
Зависимости DEV_MODE и другие переменные окружения не передавались правильно между компонентами.

## Решения

### 1. Обновлены типы TypeScript (`env.d.ts`)
- Добавлены типы для встроенных переменных Vite: `DEV`, `PROD`, `MODE`, `BASE_URL`
- Добавлены типы для проектных переменных: `VITE_PROJECT_ID`, `VITE_USER_ID`

### 2. Создана утилита для работы с переменными (`src/utils/env.ts`)
- Централизованное управление переменными окружения
- Функции для проверки режима разработки
- Специальные логгеры для dev режима: `devLog`, `devWarn`, `devError`, `devGroup`

### 3. Обновлены компоненты
- **apiService.ts**: Использует `env.api.*` вместо прямого обращения к `import.meta.env`
- **debugRoutes.ts**: Использует `env.isDev` и `devGroup`
- **RoutePage.vue**: Использует `env.isDev` и dev логгеры
- **main.ts**: Добавлен импорт тестов переменных окружения

### 4. Улучшена конфигурация Vite
- Добавлено `define.__DEV__` для дополнительной совместимости

### 5. Добавлены тесты
- **envTest.ts**: Автоматические тесты переменных окружения в dev режиме

## Использование

```typescript
import { env, devLog, isDevelopment } from '@/utils/env'

// Проверка режима
if (env.isDev) {
  // только в dev режиме
}

// Логгирование
devLog('Отладочная информация')  // показывается только в dev
devWarn('Предупреждение')        // показывается только в dev
devError('Ошибка')               // показывается только в dev

// Группированное логгирование
devGroup('Заголовок группы', () => {
  console.log('Информация в группе')
})

// API конфигурация
const apiUrl = env.api.authUrl
const projectId = env.project.id
```

## Результат
Теперь все переменные окружения правильно типизированы и централизованно управляются через утилиту `env.ts`. 